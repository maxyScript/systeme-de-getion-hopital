<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Gestion des Consultations Médicales</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
</head>
<body>
<input type="checkbox" id="menu-toggle">
<div class="sidebar">
    <div class="side-header">
        <h3>G<span>estion Médicale</span></h3>
    </div>
    <div class="side-content">
        <div class="profile">
            <div class="profile-img bg-img" style="background-image: url(img/3.jpeg)"></div>
            <h4>David Green</h4>
            <small>Médecin</small>
        </div>
        <div class="side-menu">
            <ul>
                <li><a href="" class="active"><span class="las la-home"></span><small>Tableau de Bord</small></a></li>
                <li><a href=""><span class="las la-user-alt"></span><small>Profil</small></a></li>
                <li><a href=""><span class="las la-calendar"></span><small>Consultations</small></a></li>
                <li><a href=""><span class="las la-comments"></span><small>Messages</small></a></li>
                <li><a href=""><span class="las la-file-alt"></span><small>Rapports</small></a></li>
                <li><a href=""><span class="las la-tasks"></span><small>Évaluations</small></a></li>
            </ul>
        </div>
    </div>
</div>

<div class="main-content">
    <header>
        <div class="header-content">
            <label for="menu-toggle"><span class="las la-bars"></span></label>
            <div class="header-menu">
                <label for=""><span class="las la-search"></span></label>
                <div class="notify-icon"><span class="las la-envelope"></span><span class="notify">4</span></div>
                <div class="notify-icon"><span class="las la-bell"></span><span class="notify">3</span></div>
                <div class="user">
                    <div class="bg-img" style="background-image: url(img/1.jpeg)"></div>
                    <span class="las la-power-off"></span>
                    <span>Déconnexion</span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="page-header">
            <h1>Consultations Médicales</h1>
            <small>Accueil / Consultations</small>
        </div>

        <div class="page-content">
            <div class="analytics">
                <div class="card">
                    <div class="card-head">
                        <h2>107,200</h2>
                        <span class="las la-user-friends"></span>
                    </div>
                    <div class="card-progress">
                        <small>Activité des Patients ce mois-ci</small>
                        <div class="card-indicator">
                            <div class="indicator one" style="width: 60%"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head">
                        <h2>340,230</h2>
                        <span class="las la-eye"></span>
                    </div>
                    <div class="card-progress">
                        <small>Consultations effectuées</small>
                        <div class="card-indicator">
                            <div class="indicator two" style="width: 80%"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head">
                        <h2>653,200€</h2>
                        <span class="las la-shopping-cart"></span>
                    </div>
                    <div class="card-progress">
                        <small>Revenus mensuels</small>
                        <div class="card-indicator">
                            <div class="indicator three" style="width: 65%"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head">
                        <h2>47,500</h2>
                        <span class="las la-envelope"></span>
                    </div>
                    <div class="card-progress">
                        <small>Nouveaux messages reçus</small>
                        <div class="card-indicator">
                            <div class="indicator four" style="width: 90%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formulaire d'ajout de consultation -->
            <div class="form-container">
                <h2>Ajouter une Consultation</h2>
                <form id="consultationForm">
                    <label for="patientName">Nom du Patient:</label>
                    <input type="text" id="patientName" required>
                    
                    <label for="reason">Raison de la Consultation:</label>
                    <input type="text" id="reason" required>
                    
                    <label for="consultationDate">Date de Consultation:</label>
                    <input type="date" id="consultationDate" required>
                    
                    <button type="submit">Enregistrer Consultation</button>
                </form>
            </div>

            <div class="records table-responsive">
                <div class="record-header">
                    <div class="add">
                        <span>Entrées</span>
                        <button id="addConsultation">Ajouter une Consultation</button>
                    </div>
                    <div class="browse">
                        <input type="search" placeholder="Rechercher" class="record-search">
                    </div>
                </div>

                <div>
                    <table width="100%">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th><span class="las la-sort"></span> PATIENT</th>
                                <th><span class="las la-sort"></span> RAISON</th>
                                <th><span class="las la-sort"></span> DATE DE CONSULTATION</th>
                                <th><span class="las la-sort"></span> ÉTAT</th>
                                <th><span class="las la-sort"></span> ACTIONS</th>
                            </tr>
                        </thead>
                        <tbody id="consultationTableBody">
                            <!-- Les consultations seront ajoutées ici -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const menuToggle = document.getElementById("menu-toggle");
    const sidebar = document.querySelector(".sidebar");

    menuToggle.addEventListener("change", function() {
        if (menuToggle.checked) {
            sidebar.classList.add("open");
        } else {
            sidebar.classList.remove("open");
        }
    });

    const searchInput = document.querySelector(".record-search");
    const tableRows = document.querySelectorAll("tbody tr");

    searchInput.addEventListener("keyup", function() {
        const searchTerm = searchInput.value.toLowerCase();

        tableRows.forEach(row => {
            const patientName = row.querySelector(".client-info h4").innerText.toLowerCase();
            if (patientName.includes(searchTerm)) {
                row.style.display = ""; // Afficher la ligne
            } else {
                row.style.display = "none"; // Masquer la ligne
            }
        });
    });

    // Formulaire pour ajouter une consultation
    const form = document.getElementById("consultationForm");
    form.addEventListener("submit", function(event) {
        event.preventDefault(); // Empêche le rechargement de la page

        // Récupération des valeurs du formulaire
        const patientName = document.getElementById("patientName").value;
        const reason = document.getElementById("reason").value;
        const consultationDate = document.getElementById("consultationDate").value;

        // Création d'une nouvelle ligne dans le tableau
        const newRow = document.createElement("tr");
        newRow.innerHTML = `
            <td>#NEW</td>
            <td>
                <div class="client">
                    <div class="client-img bg-img" style="background-image: url(img/default.jpeg)"></div>
                    <div class="client-info">
                        <h4>${patientName}</h4>
                        <small>${patientName.toLowerCase().replace(/ /g, '_')}@example.com</small>
                    </div>
                </div>
            </td>
            <td>${reason}</td>
            <td>${new Date(consultationDate).toLocaleDateString()}</td>
            <td><span class="paid">En attente</span></td>
            <td>
                <div class="actions">
                    <span class="las la-eye" onclick="viewDetails('${patientName}')"></span>
                    <span class="las la-ellipsis-v" onclick="showOptions('${patientName}')"></span>
                </div>
            </td>
        `;
        
        // Ajout de la nouvelle ligne au tableau
        document.getElementById("consultationTableBody").appendChild(newRow);

        // Réinitialisation du formulaire
        form.reset();
    });

    // Fonctions pour les actions
    window.viewDetails = function(patientName) {
        alert(`Affichage des détails pour ${patientName}`);
    }

    window.showOptions = function(patientName) {
        alert(`Options disponibles pour ${patientName}`);
    }
});
</script>
</body>
</html>