<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <title>Gestion des stocks</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
</head>
<body>
   <input type="checkbox" id="menu-toggle">
    <div class="sidebar">
        <div class="side-header">
            <h3>P<span>harmacie</span></h3>
        </div>
        
        <div class="side-content">
            <div class="profile">
                <div class="profile-img bg-img" style="background-image: url(img/doc-icon.png)"></div>
                <h4>SGH</h4>
                <small></small>
            </div>

            <div class="side-menu">
                <ul>
                    <li>
                       <a href="dasboard-main-1.html" class="active">
                            <span class="las la-home"></span>
                            <small>Dashboard</small>
                        </a>
                    </li>
                    <li>
                       <a href="pharmacie.html">
                            <span class="las la-user-alt"></span>
                            <small>Pharmacie</small>
                        </a>
                    </li>
                    <li>
                       <a href="Factures.html">
                            <span class="las la-envelope"></span>
                            <small>Factures</small>
                        </a>
                    </li>
                    <li>
                       <a href="prescription-medical.html">
                            <span class="las la-clipboard-list"></span>
                            <small>Prescription</small>
                        </a>
                    </li>
                    <li>
                       <a href="stock.html">
                            <span class="las la-shopping-cart"></span>
                            <small>Stock</small>
                        </a>
                    </li>
                    <li>
                       <a href="pharmacie.html">
                            <span class="las la-tasks"></span>
                            <small>Liste des medicament</small>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        
        <header>
            <div class="header-content">
                <label for="menu-toggle">
                    <span class="las la-bars"></span>
                </label>
                
                <div class="header-menu">
                    <label for="">
                        <span class="las la-search"></span>
                    </label>
                    
                    <div class="notify-icon">
                        <span class="las la-envelope"></span>
                        <span class="notify">4</span>
                    </div>
                    
                    <div class="notify-icon">
                        <span class="las la-bell"></span>
                        <span class="notify">3</span>
                    </div>
                    
                    <div class="user">
                        <div class="bg-img" style="background-image: url(img/1.jpeg)"></div>
                        <span class="las la-power-off"></span>
                        <span>Deconnexion</span>
                    </div>
                </div>
            </div>
        </header>
        
        
        <main>
            
            <div class="page-header">
                <h1>Dashboard</h1>
                <small>Accueil / Dashboard</small>
            </div>
            
            <div class="page-content">
            
                <div class="analytics">

                    <div class="card">
                        <div class="card-head">
                            <h2 id="total-medicines">0</h2>
                            <span class="las la-capsules"></span>
                        </div>
                        <div class="card-progress">
                            <small>Nombre total de médicaments</small>
                            <div class="card-indicator">
                                <div class="indicator one" style="width: 60%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">
                            <h2 id="prescriptions-count">0</h2>
                            <span class="las la-prescription-bottle"></span>
                        </div>
                        <div class="card-progress">
                            <small>Nombre total de prescriptions</small>
                            <div class="card-indicator">
                                <div class="indicator two" style="width: 80%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">
                            <h2 id="patients-count">0</h2>
                            <span class="las la-user-injured"></span>
                        </div>
                        <div class="card-progress">
                            <small>Nombre total de patients</small>
                            <div class="card-indicator">
                                <div class="indicator three" style="width: 65%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">
                            <h2 id="staff-count">0</h2>
                            <span class="las la-user-md"></span>
                        </div>
                        <div class="card-progress">
                            <small>Nombre total de personnel de pharmacie</small>
                            <div class="card-indicator">
                                <div class="indicator four" style="width: 90%"></div>
                            </div>
                        </div>
                    </div>

                </div>


                <div class="records table-responsive">

                    <div class="record-header">
                        <div class="add">
                            
                        </div>

                        <div class="browse">
                             <input type="search" placeholder="Search" class="record-search">
                             
                        </div>
                    </div>

                    <div>
                        <!-- Contenu supplémentaire si nécessaire -->
                    </div>

                    <div class="container mt-4">
                        <h1 class="text-center">Gestion des Médicaments</h1>

                        <div class="row">
                            <!-- Colonne pour le formulaire -->
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h5>Ajouter un Médicament</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label for="medicine-name"><i class="fas fa-capsules"></i> Nom du Médicament</label>
                                            <input type="text" class="form-control" id="medicine-name" placeholder="Entrez le nom du médicament">
                                        </div>
                                        <div class="form-group">
                                            <label for="medicine-type"><i class="fas fa-pills"></i> Type de Médicament</label>
                                            <select class="form-control" id="medicine-type">
                                                <option>Sélectionnez...</option>
                                                <option>Antibiotique</option>
                                                <option>Analgésique</option>
                                                <option>Antidouleur</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="medicine-expiry"><i class="fas fa-calendar-alt"></i> Date d'Expiration</label>
                                            <input type="date" class="form-control" id="medicine-expiry">
                                        </div>
                                        <button class="btn btn-info btn-details"  id="save-medicine"><i class="fas fa-plus"></i> Ajouter Médicament</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Colonne pour la liste -->
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h5>Liste des Médicaments</h5>
                                    </div>
                                    <div class="card-body">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Nom du Médicament</th>
                                                    <th>Type</th>
                                                    <th>Date d'Expiration</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="medicine-list">
                                                <!-- Les médicaments seront ajoutés ici par JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
        </main>
        
    </div>

    <style>
        /* Styles pour la mise en page */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            margin-top: 20px;
            max-width: 1200px; /* Limite la largeur du conteneur */
        }
        .card {
            background-color: #fff;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .card-header {
            background-color: #22baa0; /* Couleur d'arrière-plan */
            color: #fff; /* Couleur du texte */
            padding: 15px;
            font-weight: bold;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .table th, .table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        /* Media query pour les petits écrans */
        @media (max-width: 768px) {
            .row {
                flex-direction: column;
            }
            .col-md-6 {
                width: 100%;
            }
        }
    </style>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const saveButton = document.getElementById("save-medicine");
            const medicineList = document.getElementById("medicine-list");
            const totalMedicines = document.getElementById("total-medicines");
            const prescriptionsCount = document.getElementById("prescriptions-count");
            const patientsCount = document.getElementById("patients-count");
            const staffCount = document.getElementById("staff-count");

            let medicineData = [];

            saveButton.addEventListener("click", function() {
                const name = document.getElementById("medicine-name").value;
                const type = document.getElementById("medicine-type").value;
                const expiry = document.getElementById("medicine-expiry").value;

                if (name && type && expiry) {
                    const medicine = {
                        id: medicineData.length + 1,
                        name: name,
                        type: type,
                        expiry: expiry
                    };

                    medicineData.push(medicine);
                    updateMedicineList();
                    clearForm();
                    updateStatistics();
                }
            });

            function updateMedicineList() {
                medicineList.innerHTML = '';
                medicineData.forEach(medicine => {
                    const row = `<tr>
                        <td>${medicine.id}</td>
                        <td>${medicine.name}</td>
                        <td>${medicine.type}</td>
                        <td>${medicine.expiry}</td>
                        <td><button class="btn btn-danger" onclick="removeMedicine(${medicine.id})">Supprimer</button></td>
                    </tr>`;
                    medicineList.innerHTML += row;
                });
            }

            function clearForm() {
                document.getElementById("medicine-name").value = '';
                document.getElementById("medicine-type").value = 'Sélectionnez...';
                document.getElementById("medicine-expiry").value = '';
            }

            function updateStatistics() {
                totalMedicines.innerText = medicineData.length;

                const prescriptions = medicineData.filter(m => m.type === "Consultation").length;
                const patients = medicineData.filter(m => m.type === "Urgent").length;
                const staff = medicineData.filter(m => m.type === "Chirurgie").length;

                prescriptionsCount.innerText = prescriptions;
                patientsCount.innerText = patients;
                staffCount.innerText = staff;
            }

            window.removeMedicine = function(id) {
                medicineData = medicineData.filter(medicine => medicine.id !== id);
                updateMedicineList();
                updateStatistics();
            };

            const searchInput = document.querySelector(".record-search");
            searchInput.addEventListener("keyup", function() {
                const searchTerm = searchInput.value.toLowerCase();
                const filteredMedicines = medicineData.filter(medicine => medicine.name.toLowerCase().includes(searchTerm));
                
                medicineList.innerHTML = '';
                filteredMedicines.forEach(medicine => {
                    const row = `<tr>
                        <td>${medicine.id}</td>
                        <td>${medicine.name}</td>
                        <td>${medicine.type}</td>
                        <td>${medicine.expiry}</td>
                        <td><button class="btn btn-danger" onclick="removeMedicine(${medicine.id})">Supprimer</button></td>
                    </tr>`;
                    medicineList.innerHTML += row;
                });
            });
        });
    </script>
</body>
</html>